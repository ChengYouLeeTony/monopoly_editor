{% extends "base_creator.html" %}
{% load static %}
{% block files %}
<link rel="stylesheet" href="{% static 'css/basic_setting.css' %}">
{% endblock %}
{% block content %}
  <form action="" method="post">
    {% csrf_token %}
    <table id="basic-setting-form">
    {{ form.as_table }}
    </table>
    <div class="rent-area">
      <span>可建造房屋過路費 = </span>
      <label for="ratio_rent_vs_price">地價 x </label>
      <input class="ratiao-abd-constant" type="text" id="ratio_rent_vs_price" name="ratio_rent_vs_price" value="{{ ratio_rent_vs_price }}">
      <label for="ratio_rent_vs_price_for_house"> + 房屋數量 x 房屋建造費用 x </label>
      <input class="ratiao-abd-constant" type="text" id="ratio_rent_vs_price_for_house" name="ratio_rent_vs_price_for_house" value="{{ ratio_rent_vs_price_for_house }}">
      <label for="rent_constant"> + </label>
      <input class="ratiao-abd-constant" type="text" id="rent_constant" name="rent_constant" value="{{ rent_constant }}">
    </div>
    <div class="rent-area">
      <span>基礎設施過路費 = </span>
      <label for="ratio_rent_vs_price_infra">地價 x </label>
      <input class="ratiao-abd-constant" type="text" id="ratio_rent_vs_price_infra" name="ratio_rent_vs_price_infra" value="{{ ratio_rent_vs_price_infra }}">
      <label for="ratio_rent_vs_price_infra_for_same_category"> + 玩家擁有的同類別基礎設施數量 x 地價 x </label>
      <input class="ratiao-abd-constant" type="text" id="ratio_rent_vs_price_infra_for_same_category" name="ratio_rent_vs_price_infra_for_same_category" value="{{ ratio_rent_vs_price_infra_for_same_category }}">
      <label for="rent_constant_infra"> + </label>
      <input class="ratiao-abd-constant" type="text" id="rent_constant_infra" name="rent_constant_infra" value="{{ rent_constant_infra }}">
    </div>
    <br>
    <input type="button" onclick="location.href='{% url 'map-detail' map_id%}'" class="w3-button w3-black" value="返回">
    <input id="update" type="submit" class="w3-button w3-black" name="update" value="更新">
  </form>
  {% if error_message %}
    <script language='javascript' type='text/javascript'>
      function notifyError() {
          Swal.fire({
            icon: 'error',
            title: "{{ error_message|safe }}",
            showConfirmButton: false,
            timer:  2000
          })
      }
      notifyError();
    </script>       
  {% endif %}
{% endblock %}
{% block additionalScript %}
  <script>
    $('#map-page').addClass("side-bar-item-activate");
  </script>
{% endblock %}